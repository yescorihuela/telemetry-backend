data_gps_measurements = [
  {:road_lonlat=>"POINT (-70.69127082824706 -33.45403754073398)"},
  {:road_lonlat=>"POINT (-70.6915283203125 -33.456364866148014)"},
  {:road_lonlat=>"POINT (-70.69032669067383 -33.45965881995727)"},
  {:road_lonlat=>"POINT (-70.68998336791992 -33.465243933879066)"},
  {:road_lonlat=>"POINT (-70.68998336791992 -33.47383571415577)"},
  {:road_lonlat=>"POINT (-70.68758010864258 -33.477988102605764)"},
  {:road_lonlat=>"POINT (-70.68895339965819 -33.4821402920467)"},
  {:road_lonlat=>"POINT (-70.69341659545898 -33.492018839206224)"},
  {:road_lonlat=>"POINT (-70.69839477539062 -33.501896259517494)"},
  {:road_lonlat=>"POINT (-70.70783615112305 -33.521504608636306)"},
  {:road_lonlat=>"POINT (-70.70852279663086 -33.52651332821698)"},
  {:road_lonlat=>"POINT (-70.71950912475586 -33.60604149572663)"},
  {:road_lonlat=>"POINT (-70.71796417236328 -33.61376155108331)"},
  {:road_lonlat=>"POINT (-70.71487426757812 -33.637203406257235)"},
  {:road_lonlat=>"POINT (-70.71367263793945 -33.64463485765219)"},
  {:road_lonlat=>"POINT (-70.718994140625 -33.657638354109665)"},
  {:road_lonlat=>"POINT (-70.72225570678711 -33.66506804140365)"},
  {:road_lonlat=>"POINT (-70.72603225708008 -33.67463996177376)"},
  {:road_lonlat=>"POINT (-70.72860717773438 -33.68363945239179)"},
  {:road_lonlat=>"POINT (-70.7274055480957 -33.68735325327766)"},
  {:road_lonlat=>"POINT (-70.72380065917969 -33.69449472706071)"},
  {:road_lonlat=>"POINT (-70.72431564331055 -33.701064358790276)"},
  {:road_lonlat=>"POINT (-70.7280921936035 -33.71548722249545)"},
  {:road_lonlat=>"POINT (-70.73272705078125 -33.72505352836076)"},
  {:road_lonlat=>"POINT (-70.73993682861327 -33.73918686460779)"},
  {:road_lonlat=>"POINT (-70.75538635253905 -33.8300698997189)"},
  {:road_lonlat=>"POINT (-70.74972152709961 -33.859297450398245)"},
  {:road_lonlat=>"POINT (-70.74216842651367 -33.86713728719762)"},
  {:road_lonlat=>"POINT (-70.73598861694335 -33.89948681391328)"},
  {:road_lonlat=>"POINT (-70.73616027832031 -33.90333373867912)"},
  {:road_lonlat=>"POINT (-70.72637557983398 -33.91387627229514)"},
  {:road_lonlat=>"POINT (-70.72843551635741 -33.920429081889196)"},
  {:road_lonlat=>"POINT (-70.72586059570312 -33.92313553009509)"},
  {:road_lonlat=>"POINT (-70.71882247924805 -33.9278359989436)"},
  {:road_lonlat=>"POINT (-70.71418762207031 -33.93823308422682)"},
  {:road_lonlat=>"POINT (-70.71418762207031 -33.94364476321219)"},
  {:road_lonlat=>"POINT (-70.71624755859374 -33.9484865001747)"},
  {:road_lonlat=>"POINT (-70.71676254272461 -33.953755136273514)"},
  {:road_lonlat=>"POINT (-70.70320129394531 -33.986214127142)"},
  {:road_lonlat=>"POINT (-70.7080078125 -34.03445260967644)"},
  {:road_lonlat=>"POINT (-70.71161270141602 -34.036159664315605)"},
  {:road_lonlat=>"POINT (-70.72036743164062 -34.039289175269076)"},
  {:road_lonlat=>"POINT (-70.73341369628906 -34.045263375550654)"},
  {:road_lonlat=>"POINT (-70.75109481811523 -34.05265942137597)"},
  {:road_lonlat=>"POINT (-70.75504302978516 -34.05678385900245)"},
  {:road_lonlat=>"POINT (-70.77718734741211 -34.08664448743108)"},
  {:road_lonlat=>"POINT (-70.78079223632812 -34.094605543881926)"},
  {:road_lonlat=>"POINT (-70.78182220458984 -34.10910411569082)"},
  {:road_lonlat=>"POINT (-70.78817367553711 -34.139088373438476)"},
  {:road_lonlat=>"POINT (-70.79280853271484 -34.15230080698923)"},
  {:road_lonlat=>"POINT (-70.79778671264648 -34.16110794795231)"},
  {:road_lonlat=>"POINT (-70.79452514648436 -34.172612667476244)"},
  {:road_lonlat=>"POINT (-70.78834533691406 -34.19291964055571)"},
  {:road_lonlat=>"POINT (-70.7874870300293 -34.20896295162417)"},
  {:road_lonlat=>"POINT (-70.79246520996094 -34.218190021599234)"},
  {:road_lonlat=>"POINT (-70.79504013061523 -34.2234419024609)"},
  {:road_lonlat=>"POINT (-70.79538345336914 -34.22798380564679)"},
  {:road_lonlat=>"POINT (-70.79504013061523 -34.23493812022693)"},
  {:road_lonlat=>"POINT (-70.79847335815428 -34.24132422972855)"},
  {:road_lonlat=>"POINT (-70.80997467041014 -34.26204027139666)"},
  {:road_lonlat=>"POINT (-70.82405090332031 -34.28587159652361)"},
  {:road_lonlat=>"POINT (-70.83314895629883 -34.32429955337337)"},
  {:road_lonlat=>"POINT (-70.84156036376952 -34.342585649404036)"},
  {:road_lonlat=>"POINT (-70.87778091430664 -34.40648477017429)"},
  {:road_lonlat=>"POINT (-70.88396072387694 -34.41838077212271)"},
  {:road_lonlat=>"POINT (-70.88567733764648 -34.422204127692474)"},
  {:road_lonlat=>"POINT (-70.88739395141602 -34.42602730843172)"},
  {:road_lonlat=>"POINT (-70.89031219482422 -34.435796864855725)"},
  {:road_lonlat=>"POINT (-70.89305877685547 -34.44528215290128)"},
  {:road_lonlat=>"POINT (-70.90112686157227 -34.47061816265395)"},
  {:road_lonlat=>"POINT (-70.90215682983398 -34.475995767558636)"},
  {:road_lonlat=>"POINT (-70.90490341186523 -34.4793919710481)"},
  {:road_lonlat=>"POINT (-70.91005325317383 -34.48420302267625)"},
  {:road_lonlat=>"POINT (-70.91348648071289 -34.488589327926576)"},
  {:road_lonlat=>"POINT (-70.92584609985352 -34.50669808103445)"},
  {:road_lonlat=>"POINT (-70.93846321105957 -34.52819711604961)"},
  {:road_lonlat=>"POINT (-70.94301223754883 -34.53427807308364)"},
  {:road_lonlat=>"POINT (-70.95580101013184 -34.54502472496434)"},
  {:road_lonlat=>"POINT (-70.96283912658691 -34.55117514478884)"},
  {:road_lonlat=>"POINT (-70.96524238586426 -34.5532251837122)"},
  {:road_lonlat=>"POINT (-70.97331047058105 -34.56955300035297)"},
  {:road_lonlat=>"POINT (-70.97356796264648 -34.57195595815898)"},
  {:road_lonlat=>"POINT (-70.96661567687988 -34.58552429876527)"},
  {:road_lonlat=>"POINT (-70.98464012145996 -34.60516619968573)"},
  {:road_lonlat=>"POINT (-70.9892749786377 -34.60996998643594)"},
  {:road_lonlat=>"POINT (-70.99167823791504 -34.62565100237967)"},
  {:road_lonlat=>"POINT (-70.99382400512695 -34.65269732107384)"},
  {:road_lonlat=>"POINT (-70.99511146545409 -34.66173433297161)"},
  {:road_lonlat=>"POINT (-71.00197792053223 -34.66914677104502)"},
  {:road_lonlat=>"POINT (-71.01356506347656 -34.68538122266006)"},
  {:road_lonlat=>"POINT (-71.02729797363281 -34.70422331140433)"},
  {:road_lonlat=>"POINT (-71.03785514831542 -34.725177448317595)"},
  {:road_lonlat=>"POINT (-71.04137420654297 -34.73498244258411)"},
  {:road_lonlat=>"POINT (-71.0430908203125 -34.73702794221469)"},
  {:road_lonlat=>"POINT (-71.04249000549316 -34.749652491484056)"},
  {:road_lonlat=>"POINT (-71.04695320129395 -34.78060620575734)"},
  {:road_lonlat=>"POINT (-71.04806900024413 -34.792025828558856)"},
  {:road_lonlat=>"POINT (-71.04334831237793 -34.792025828558856)"},
  {:road_lonlat=>"POINT (-71.0364818572998 -34.770242587263915)"},
  {:road_lonlat=>"POINT (-71.03828430175781 -34.76826841711741)"},
  {:road_lonlat=>"POINT (-71.04043006896973 -34.764178914455115)"},
  {:road_lonlat=>"POINT (-71.04111671447754 -34.76051229153916)"},
  {:road_lonlat=>"POINT (-71.04060173034668 -34.755223606281206)"},
  {:road_lonlat=>"POINT (-71.03957176208496 -34.739355518133564)"},
  {:road_lonlat=>"POINT (-71.03373527526855 -34.72538907917974)"},
  {:road_lonlat=>"POINT (-71.03038787841797 -34.716852871337736)"},
  {:road_lonlat=>"POINT (-71.02455139160156 -34.704928924267776)"},
  {:road_lonlat=>"POINT (-70.99227905273438 -34.66314627706533)"},
  {:road_lonlat=>"POINT (-70.98978996276855 -34.64457729038275)"},
  {:road_lonlat=>"POINT (-70.98695755004883 -34.61110024880987)"},
  {:road_lonlat=>"POINT (-70.97657203674316 -34.60000888400419)"},
  {:road_lonlat=>"POINT (-70.96429824829102 -34.58686687870011)"},
  {:road_lonlat=>"POINT (-70.96481323242188 -34.5844643519156)"},
  {:road_lonlat=>"POINT (-70.97116470336914 -34.57124921307213)"},
  {:road_lonlat=>"POINT (-70.96232414245605 -34.55407346090554)"},
  {:road_lonlat=>"POINT (-70.94696044921875 -34.54141909511229)"},
  {:road_lonlat=>"POINT (-70.93923568725586 -34.53328818010773)"},
  {:road_lonlat=>"POINT (-70.90816497802734 -34.48653769773275)"},
  {:road_lonlat=>"POINT (-70.90335845947264 -34.482575786265826)"},
  {:road_lonlat=>"POINT (-70.90078353881836 -34.47769388658349)"},
  {:road_lonlat=>"POINT (-70.89503288269043 -34.46000345187639)"},
  {:road_lonlat=>"POINT (-70.89091300964355 -34.447688696497444)"},
  {:road_lonlat=>"POINT (-70.88507652282715 -34.426947677683195)"},
  {:road_lonlat=>"POINT (-70.8779525756836 -34.414203202296996)"},
  {:road_lonlat=>"POINT (-70.8511734008789 -34.365969031253414)"},
  {:road_lonlat=>"POINT (-70.83889961242676 -34.344782547719745)"},
  {:road_lonlat=>"POINT (-70.83237648010254 -34.33025360365624)"},
  {:road_lonlat=>"POINT (-70.82842826843262 -34.318557747621995)"},
  {:road_lonlat=>"POINT (-70.82611083984375 -34.30948347597914)"},
  {:road_lonlat=>"POINT (-70.82173347473145 -34.29083560560794)"},
  {:road_lonlat=>"POINT (-70.82001686096191 -34.28565884672402)"},
  {:road_lonlat=>"POINT (-70.80928802490234 -34.26679289029248)"},
  {:road_lonlat=>"POINT (-70.79212188720703 -34.23735070741752)"},
  {:road_lonlat=>"POINT (-70.79109191894531 -34.2345833221622)"},
  {:road_lonlat=>"POINT (-70.79160690307617 -34.232170655673485)"},
  {:road_lonlat=>"POINT (-70.79280853271484 -34.229048278776865)"},
  {:road_lonlat=>"POINT (-70.79195022583008 -34.224861273516204)"},
  {:road_lonlat=>"POINT (-70.78765869140625 -34.21669956333592)"},
  {:road_lonlat=>"POINT (-70.78439712524414 -34.209743742827605)"},
  {:road_lonlat=>"POINT (-70.78474044799805 -34.19937992500726)"},
  {:road_lonlat=>"POINT (-70.7860279083252 -34.19220968900378)"},
  {:road_lonlat=>"POINT (-70.7915210723877 -34.173890872853235)"},
  {:road_lonlat=>"POINT (-70.79340934753418 -34.16281244978297)"},
  {:road_lonlat=>"POINT (-70.79246520996094 -34.158764201748305)"},
  {:road_lonlat=>"POINT (-70.79126358032227 -34.155070893887775)"},
  {:road_lonlat=>"POINT (-70.78705787658691 -34.1473996614469)"},
  {:road_lonlat=>"POINT (-70.78293800354004 -34.129710554196194)"},
  {:road_lonlat=>"POINT (-70.7805347442627 -34.122818614696)"},
  {:road_lonlat=>"POINT (-70.77959060668945 -34.110099024622805)"},
  {:road_lonlat=>"POINT (-70.77890396118164 -34.10064691736161)"},
  {:road_lonlat=>"POINT (-70.77409744262695 -34.086786655718434)"},
  {:road_lonlat=>"POINT (-70.77280998229979 -34.08444084845121)"},
  {:road_lonlat=>"POINT (-70.76242446899414 -34.073848364072994)"},
  {:road_lonlat=>"POINT (-70.751953125 -34.0580638160832)"},
  {:road_lonlat=>"POINT (-70.74869155883789 -34.05493499798558)"},
  {:road_lonlat=>"POINT (-70.73813438415527 -34.051521610164926)"},
  {:road_lonlat=>"POINT (-70.72792053222656 -34.04533449444773)"},
  {:road_lonlat=>"POINT (-70.70817947387695 -34.03815118464512)"},
  {:road_lonlat=>"POINT (-70.70500373840332 -34.035235013983424)"},
  {:road_lonlat=>"POINT (-70.70019721984863 -33.98735281410265)"},
  {:road_lonlat=>"POINT (-70.70483207702637 -33.97468406245863)"},
  {:road_lonlat=>"POINT (-70.71281433105469 -33.95446708910659)"},
  {:road_lonlat=>"POINT (-70.71307182312012 -33.95318556971814)"},
  {:road_lonlat=>"POINT (-70.71126937866211 -33.94620807002933)"},
  {:road_lonlat=>"POINT (-70.71118354797363 -33.93915879054708)"},
  {:road_lonlat=>"POINT (-70.71702003479004 -33.92577067336483)"},
  {:road_lonlat=>"POINT (-70.71830749511719 -33.925129700071984)"},
  {:road_lonlat=>"POINT (-70.72311401367188 -33.92185353903076)"},
  {:road_lonlat=>"POINT (-70.72440147399902 -33.919645620309716)"},
  {:road_lonlat=>"POINT (-70.72371482849121 -33.91530083898639)"},
  {:road_lonlat=>"POINT (-70.72474479675293 -33.91359135609922)"},
  {:road_lonlat=>"POINT (-70.73427200317383 -33.90333373867912)"},
  {:road_lonlat=>"POINT (-70.73427200317383 -33.90183773300638)"},
  {:road_lonlat=>"POINT (-70.73332786560059 -33.900769141454255)"},
  {:road_lonlat=>"POINT (-70.73461532592773 -33.89136495832256)"},
  {:road_lonlat=>"POINT (-70.73461532592773 -33.88723248931143)"},
  {:road_lonlat=>"POINT (-70.74122428894043 -33.86528429982857)"},
  {:road_lonlat=>"POINT (-70.74482917785645 -33.862362199571514)"},
  {:road_lonlat=>"POINT (-70.74671745300293 -33.85915490124807)"},
  {:road_lonlat=>"POINT (-70.74774742126465 -33.85352401948898)"},
  {:road_lonlat=>"POINT (-70.75255393981934 -33.83377736215669)"},
  {:road_lonlat=>"POINT (-70.75263977050781 -33.83206624562714)"},
  {:road_lonlat=>"POINT (-70.7453441619873 -33.78688751711602)"},
  {:road_lonlat=>"POINT (-70.74113845825195 -33.75934782128588)"},
  {:road_lonlat=>"POINT (-70.73740482330322 -33.74114964385425)"},
  {:road_lonlat=>"POINT (-70.73238372802733 -33.730746402111755)"},
  {:road_lonlat=>"POINT (-70.72819948196411 -33.72255496923923)"},
  {:road_lonlat=>"POINT (-70.72656869888306 -33.71916395124449)"},
  {:road_lonlat=>"POINT (-70.72517395019531 -33.71421996396508)"},
  {:road_lonlat=>"POINT (-70.72262048721313 -33.703688500617446)"},
  {:road_lonlat=>"POINT (-70.72150468826294 -33.698333023999545)"},
  {:road_lonlat=>"POINT (-70.72150468826294 -33.69679772579948)"},
  {:road_lonlat=>"POINT (-70.7220196723938 -33.69463755048318)"},
  {:road_lonlat=>"POINT (-70.7250452041626 -33.6870140185096)"},
  {:road_lonlat=>"POINT (-70.72596788406372 -33.684442932531184)"},
  {:road_lonlat=>"POINT (-70.72611808776854 -33.683103794793354)"},
  {:road_lonlat=>"POINT (-70.72601079940796 -33.6811575440916)"},
  {:road_lonlat=>"POINT (-70.72571039199829 -33.67997905894747)"},
  {:road_lonlat=>"POINT (-70.72062492370605 -33.66842547804783)"},
  {:road_lonlat=>"POINT (-70.7164192199707 -33.65849565846378)"},
  {:road_lonlat=>"POINT (-70.71219205856323 -33.649100565554654)"},
  {:road_lonlat=>"POINT (-70.71116209030151 -33.64524220753749)"},
  {:road_lonlat=>"POINT (-70.71171998977661 -33.64175881913097)"},
  {:road_lonlat=>"POINT (-70.71244955062866 -33.63622083463069)"},
  {:road_lonlat=>"POINT (-70.71442365646362 -33.62305329328578)"},
  {:road_lonlat=>"POINT (-70.71646213531494 -33.60983012780232)"},
  {:road_lonlat=>"POINT (-70.7164192199707 -33.60362883664746)"},
  {:road_lonlat=>"POINT (-70.71292161941528 -33.576530933592295)"},
  {:road_lonlat=>"POINT (-70.70972442626953 -33.557560914092136)"},
  {:road_lonlat=>"POINT (-70.70918798446655 -33.553859397107225)"},
  {:road_lonlat=>"POINT (-70.7084584236145 -33.54887014500084)"},
  {:road_lonlat=>"POINT (-70.7080292701721 -33.541752361991165)"},
  {:road_lonlat=>"POINT (-70.7076644897461 -33.53747783368835)"},
  {:road_lonlat=>"POINT (-70.70607662200926 -33.531468097505616)"},
  {:road_lonlat=>"POINT (-70.70534706115723 -33.52411633432463)"},
  {:road_lonlat=>"POINT (-70.70313692092896 -33.51876757859614)"},
  {:road_lonlat=>"POINT (-70.6953477859497 -33.50277300504959)"},
  {:road_lonlat=>"POINT (-70.69073438644409 -33.49311042111114)"},
  {:road_lonlat=>"POINT (-70.68923234939575 -33.48926298104321)"},
  {:road_lonlat=>"POINT (-70.68854570388794 -33.487670269778405)"},
  {:road_lonlat=>"POINT (-70.68528413772583 -33.48015370899832)"},
  {:road_lonlat=>"POINT (-70.68509101867676 -33.479384119538814)"},
  {:road_lonlat=>"POINT (-70.68517684936523 -33.47856083022268)"},
  {:road_lonlat=>"POINT (-70.68534851074217 -33.478023898192745)"},
  {:road_lonlat=>"POINT (-70.68556308746338 -33.477039514161845)"},
  {:road_lonlat=>"POINT (-70.68588495254517 -33.47632359147803)"},
  {:road_lonlat=>"POINT (-70.68633556365965 -33.475715052545574)"},
  {:road_lonlat=>"POINT (-70.68706512451172 -33.47485593148233)"},
  {:road_lonlat=>"POINT (-70.68783760070801 -33.472725990442406)"},
  {:road_lonlat=>"POINT (-70.68788051605225 -33.47086448649368)"},
  {:road_lonlat=>"POINT (-70.68783760070801 -33.46642535417392)"},
  {:road_lonlat=>"POINT (-70.68822383880615 -33.46094772433871)"},
  {:road_lonlat=>"POINT (-70.68903923034668 -33.45858471833499)"},
  {:road_lonlat=>"POINT (-70.6895112991333 -33.45700934521848)"},
  {:road_lonlat=>"POINT (-70.69045543670654 -33.45378690196369)"},
  {:road_lonlat=>"POINT (-70.69127082824706 -33.45403754073398)"}
]

# Irregular routing
def binary_dice
  if rand >= 0.7
    1
  else
    0
  end
end

# GpsMeasurement.create!(data_gps_measurements)
upper_bound = 3

@devices = Device.select(:id).limit(upper_bound)

@devices.each do |device|
  trip = Trip.create!(route_id: 1, trip_status_id: 1)
  data_gps_measurements.each do |measurement|
    GpsMeasurement.create!({
      :device_id => device.id,
      :road_lonlat => measurement,
      :incoming_measurement_at => Time.now()
      :trip_id => trip.id
    })
    # Ten seconds for broadcast the next position
    binary_dice == 1 ? sleep(rand * 60) : sleep(10)
  end
end


